=== System startup at 2025-07-24 21:35:48 ===
[2025-07-24 21:35:48] [SYSTEM] Logging system initialized successfully
[2025-07-24 21:35:48] [SYSTEM] Log file: C:\Users\John\Documents\programming\translate tool\log.txt
[2025-07-24 21:35:48] [SYSTEM] Environment variables loaded successfully
[2025-07-24 21:35:48] [SYSTEM] Gemini client initialized successfully
[2025-07-24 21:35:48] [SYSTEM] Using Gemini model: gemini-2.5-flash-lite (optimized for live exam latency)
[2025-07-24 21:35:48] [SYSTEM] Initializing Whisper model with compute_type: float16
[2025-07-24 21:35:49] [SYSTEM] Whisper model loaded successfully
[2025-07-24 21:35:49] [AUDIO_FORMAT] === Live Transcription System Ready ===
[2025-07-24 21:35:49] [AUDIO_FORMAT] ✅ RMS-based speech detection enabled
[2025-07-24 21:35:49] [AUDIO_FORMAT] ✅ Live buffer accumulation system initialized
[2025-07-24 21:35:49] [AUDIO_FORMAT] 🚀 Performance: True live streaming with forced flush
[2025-07-24 21:35:49] [AUDIO_FORMAT] 📊 Settings: RMS_THRESHOLD=0.008, SILENCE_SECS=0.3, MAX_SPEECH_SECS=4.0
[2025-07-24 21:35:49] [SYSTEM] Using audio device 37: CABLE Output (VB-Audio Virtual Cable)
[2025-07-24 21:35:49] [SYSTEM] Audio settings validated: 48000Hz, 1 channel(s)
[2025-07-24 21:35:49] [SYSTEM] === SPANISH TRANSCRIPTION SYSTEM STARTING ===
[2025-07-24 21:35:49] [SYSTEM] Shared state initialized: hotkey_state and hotkey_lock ready
[2025-07-24 21:35:49] [SYSTEM] Thread architecture: transcription worker + hotkey listener + auto-send monitor
[2025-07-24 21:35:49] [SYSTEM] Starting system threads...
[2025-07-24 21:35:49] [SYSTEM] Live transcription worker thread started
[2025-07-24 21:35:49] [SYSTEM] ✅ Streaming transcription worker thread started successfully
[2025-07-24 21:35:49] [SYSTEM] Hotkey listener thread started with enhanced error handling
[2025-07-24 21:35:49] [SYSTEM] ✅ Hotkey listener thread started successfully
[2025-07-24 21:35:49] [SYSTEM] Auto-send monitor thread started
[2025-07-24 21:35:49] [SYSTEM] ✅ Auto-send monitor thread started successfully
[2025-07-24 21:35:49] [SYSTEM] ✅ All system threads running successfully
[2025-07-24 21:35:49] [GEMINI_WARMUP] Starting Gemini API warm-up routine
[2025-07-24 21:35:49] [SYSTEM] ✅ Gemini warm-up thread started
[2025-07-24 21:35:49] [GEMINI_WARMUP] Warm-up prompt: You are a university student currently in Spanish 2, responding naturally to another student in Spanish. Your goal is to reply with a simple, grammatically correct Spanish sentence, as someone who has completed Spanish 1 and is currently learning the concepts listed below would. Concepts you understand and should utilize: - Saber and conocer (and irregular yo forms: sé, conozco)
- Preterite tense (regular -ar, -er, -ir verbs; irregulars like -car/-gar/-zar changes; creer, leer, oír, ver; common preterite adverbs)
- Acabar de + [infinitive]
- Basic Spanish pronunciation rules
- Regular -AR, -ER, -IR verb conjugations (present tense)
- Irregular present tense verbs: ser, estar, ir, tener, venir, decir, hacer, poner, salir, suponer, traer, ver, oír
- Stem-changing verbs (e→ie, o→ue, e→i)
- Direct object nouns and pronouns (placement)
- Possession (using "de," possessive adjectives, possessive pronouns, de + el = del)
- Ser vs. Estar (DOCTOR, PLACE/LoCo mnemonics, adjective meaning changes)
- Gustar (and similar verbs, where liked item is subject)
- Forming questions (pitch, inversion, tags, interrogative words, por qué vs. porque)
- Present Progressive (estar + present participle, irregulars, stem changes)
- Descriptive adjectives and nationality (agreement, position, bueno/malo/grande/santo)
- Numbers 31 and higher (patterns, cien/ciento, mil/millón)
- Common verbs and expressions (especially with tener)
When the other student provides Spanish text, reply *only* with a single, natural, brief Spanish sentence. Do not add explanations, alternatives, or any text beyond that one sentence.
[2025-07-24 21:35:49] [SYSTEM] Initializing audio stream...
[2025-07-24 21:35:49] [GEMINI_WARMUP] Warm-up input: Say 'ready' in Spanish.
[2025-07-24 21:35:49] [SYSTEM] ✅ Audio stream started successfully
[2025-07-24 21:35:49] [SYSTEM] === SYSTEM FULLY OPERATIONAL ===
[2025-07-24 21:35:49] [GEMINI_WARMUP_COMPLETE] Warm-up completed in 0.34s - Response: Estoy listo.
[2025-07-24 21:35:55] [AUDIO] SPEECH_START detected (RMS: 0.0345)
[2025-07-24 21:35:55] [USER_FEEDBACK] User started speaking
[2025-07-24 21:35:57] [AUDIO] FORCED_FLUSH after 2.0s continuous speech
[2025-07-24 21:35:57] [USER_FEEDBACK] Forced flush triggered
[2025-07-24 21:35:57] [AUDIO] Processing forced flush segment (192000 samples, 4.00s)
[2025-07-24 21:35:57] [AUDIO] Audio queued for live transcription (forced flush)
[2025-07-24 21:35:57] [USER_FEEDBACK] Processing audio chunk
[2025-07-24 21:35:57] [AUDIO] Audio resampled from 192000 to 64000 samples
[2025-07-24 21:35:57] [TRANSCRIBE_ES] Starting live transcription
[2025-07-24 21:35:57] [TRANSCRIBE_ES] Empty transcription result - no speech detected
[2025-07-24 21:35:59] [AUDIO] SPEECH_START detected (RMS: 0.0858)
[2025-07-24 21:36:01] [AUDIO] FORCED_FLUSH after 2.0s continuous speech
[2025-07-24 21:36:01] [USER_FEEDBACK] Forced flush triggered
[2025-07-24 21:36:01] [AUDIO] Processing forced flush segment (192000 samples, 4.00s)
[2025-07-24 21:36:01] [AUDIO] Audio queued for live transcription (forced flush)
[2025-07-24 21:36:01] [USER_FEEDBACK] Processing audio chunk
[2025-07-24 21:36:01] [AUDIO] Audio resampled from 192000 to 64000 samples
[2025-07-24 21:36:01] [TRANSCRIBE_ES] Starting live transcription
[2025-07-24 21:36:01] [LIVE_ES] Hola, bienvenido al restaurante
[2025-07-24 21:36:03] [AUDIO] SPEECH_START detected (RMS: 0.0987)
[2025-07-24 21:36:05] [AUDIO] FORCED_FLUSH after 2.0s continuous speech
[2025-07-24 21:36:05] [USER_FEEDBACK] Forced flush triggered
[2025-07-24 21:36:05] [AUDIO] Processing forced flush segment (192000 samples, 4.00s)
[2025-07-24 21:36:05] [AUDIO] Audio queued for live transcription (forced flush)
[2025-07-24 21:36:05] [USER_FEEDBACK] Processing audio chunk
[2025-07-24 21:36:05] [AUDIO] Audio resampled from 192000 to 64000 samples
[2025-07-24 21:36:05] [TRANSCRIBE_ES] Starting live transcription
[2025-07-24 21:36:05] [LIVE_ES] Fajitas. Aquí le dejo el menú.
[2025-07-24 21:36:08] [SEND_GEMINI] 10w / 2c
[2025-07-24 21:36:08] [USER_FEEDBACK] Sending to Gemini
[2025-07-24 21:36:08] [GEMINI_PROMPT] Prompt: You are a university student currently in Spanish 2, responding naturally to another student in Spanish. Your goal is to reply with a simple, grammatically correct Spanish sentence, as someone who has completed Spanish 1 and is currently learning the concepts listed below would. Concepts you understand and should utilize: - Saber and conocer (and irregular yo forms: sé, conozco)
- Preterite tense (regular -ar, -er, -ir verbs; irregulars like -car/-gar/-zar changes; creer, leer, oír, ver; common preterite adverbs)
- Acabar de + [infinitive]
- Basic Spanish pronunciation rules
- Regular -AR, -ER, -IR verb conjugations (present tense)
- Irregular present tense verbs: ser, estar, ir, tener, venir, decir, hacer, poner, salir, suponer, traer, ver, oír
- Stem-changing verbs (e→ie, o→ue, e→i)
- Direct object nouns and pronouns (placement)
- Possession (using "de," possessive adjectives, possessive pronouns, de + el = del)
- Ser vs. Estar (DOCTOR, PLACE/LoCo mnemonics, adjective meaning changes)
- Gustar (and similar verbs, where liked item is subject)
- Forming questions (pitch, inversion, tags, interrogative words, por qué vs. porque)
- Present Progressive (estar + present participle, irregulars, stem changes)
- Descriptive adjectives and nationality (agreement, position, bueno/malo/grande/santo)
- Numbers 31 and higher (patterns, cien/ciento, mil/millón)
- Common verbs and expressions (especially with tener)
When the other student provides Spanish text, reply *only* with a single, natural, brief Spanish sentence. Do not add explanations, alternatives, or any text beyond that one sentence.
[2025-07-24 21:36:08] [GEMINI_PROMPT] Spanish input: Hola, bienvenido al restaurante Fajitas. Aquí le dejo el menú.
[2025-07-24 21:36:09] [GEMINI_REPLY] Response (0.35s): Gracias, voy a mirar el menú.
[2025-07-24 21:36:09] [PERFORMANCE] Gemini response time 0.35s within live exam target
[2025-07-24 21:36:09] [GEMINI_RESPONSE_TIME] 0.36s
[2025-07-24 21:36:09] [HOTKEY_G] Manual send completed
[2025-07-24 21:36:29] [AUDIO] SPEECH_START detected (RMS: 0.0120)
[2025-07-24 21:36:31] [AUDIO] FORCED_FLUSH after 2.0s continuous speech
[2025-07-24 21:36:31] [USER_FEEDBACK] Forced flush triggered
[2025-07-24 21:36:31] [AUDIO] Processing forced flush segment (192000 samples, 4.00s)
[2025-07-24 21:36:31] [AUDIO] Audio queued for live transcription (forced flush)
[2025-07-24 21:36:31] [USER_FEEDBACK] Processing audio chunk
[2025-07-24 21:36:31] [AUDIO] Audio resampled from 192000 to 64000 samples
[2025-07-24 21:36:31] [TRANSCRIBE_ES] Starting live transcription
[2025-07-24 21:36:31] [TRANSCRIBE_ES] Empty transcription result - no speech detected
[2025-07-24 21:36:33] [AUDIO] SPEECH_START detected (RMS: 0.0404)
[2025-07-24 21:36:35] [AUDIO] FORCED_FLUSH after 2.0s continuous speech
[2025-07-24 21:36:35] [USER_FEEDBACK] Forced flush triggered
[2025-07-24 21:36:35] [AUDIO] Processing forced flush segment (192000 samples, 4.00s)
[2025-07-24 21:36:35] [AUDIO] Audio queued for live transcription (forced flush)
[2025-07-24 21:36:35] [USER_FEEDBACK] Processing audio chunk
[2025-07-24 21:36:35] [AUDIO] Audio resampled from 192000 to 64000 samples
[2025-07-24 21:36:35] [TRANSCRIBE_ES] Starting live transcription
[2025-07-24 21:36:35] [LIVE_ES] El plato del día es...
[2025-07-24 21:36:37] [AUDIO] SPEECH_START detected (RMS: 0.0634)
[2025-07-24 21:36:39] [AUDIO] FORCED_FLUSH after 2.0s continuous speech
[2025-07-24 21:36:39] [USER_FEEDBACK] Forced flush triggered
[2025-07-24 21:36:39] [AUDIO] Processing forced flush segment (192000 samples, 4.00s)
[2025-07-24 21:36:39] [AUDIO] Audio queued for live transcription (forced flush)
[2025-07-24 21:36:39] [USER_FEEDBACK] Processing audio chunk
[2025-07-24 21:36:39] [AUDIO] Audio resampled from 192000 to 64000 samples
[2025-07-24 21:36:39] [TRANSCRIBE_ES] Starting live transcription
[2025-07-24 21:36:39] [LIVE_ES] Tacos al pastor.
[2025-07-24 21:36:43] [SEND_GEMINI] 8w / 2c
[2025-07-24 21:36:43] [USER_FEEDBACK] Sending to Gemini
[2025-07-24 21:36:43] [GEMINI_PROMPT] Prompt: You are a university student currently in Spanish 2, responding naturally to another student in Spanish. Your goal is to reply with a simple, grammatically correct Spanish sentence, as someone who has completed Spanish 1 and is currently learning the concepts listed below would. Concepts you understand and should utilize: - Saber and conocer (and irregular yo forms: sé, conozco)
- Preterite tense (regular -ar, -er, -ir verbs; irregulars like -car/-gar/-zar changes; creer, leer, oír, ver; common preterite adverbs)
- Acabar de + [infinitive]
- Basic Spanish pronunciation rules
- Regular -AR, -ER, -IR verb conjugations (present tense)
- Irregular present tense verbs: ser, estar, ir, tener, venir, decir, hacer, poner, salir, suponer, traer, ver, oír
- Stem-changing verbs (e→ie, o→ue, e→i)
- Direct object nouns and pronouns (placement)
- Possession (using "de," possessive adjectives, possessive pronouns, de + el = del)
- Ser vs. Estar (DOCTOR, PLACE/LoCo mnemonics, adjective meaning changes)
- Gustar (and similar verbs, where liked item is subject)
- Forming questions (pitch, inversion, tags, interrogative words, por qué vs. porque)
- Present Progressive (estar + present participle, irregulars, stem changes)
- Descriptive adjectives and nationality (agreement, position, bueno/malo/grande/santo)
- Numbers 31 and higher (patterns, cien/ciento, mil/millón)
- Common verbs and expressions (especially with tener)
When the other student provides Spanish text, reply *only* with a single, natural, brief Spanish sentence. Do not add explanations, alternatives, or any text beyond that one sentence.
[2025-07-24 21:36:43] [GEMINI_PROMPT] Spanish input: El plato del día es... Tacos al pastor.
[2025-07-24 21:36:43] [GEMINI_REPLY] Response (0.35s): Yo comí tacos al pastor ayer.
[2025-07-24 21:36:43] [PERFORMANCE] Gemini response time 0.35s within live exam target
[2025-07-24 21:36:43] [GEMINI_RESPONSE_TIME] 0.35s
[2025-07-24 21:36:43] [HOTKEY_G] Manual send completed
[2025-07-24 21:37:03] [AUDIO] SPEECH_START detected (RMS: 0.0326)
[2025-07-24 21:37:05] [AUDIO] FORCED_FLUSH after 2.0s continuous speech
[2025-07-24 21:37:05] [USER_FEEDBACK] Forced flush triggered
[2025-07-24 21:37:05] [AUDIO] Processing forced flush segment (192000 samples, 4.00s)
[2025-07-24 21:37:05] [AUDIO] Audio queued for live transcription (forced flush)
[2025-07-24 21:37:05] [USER_FEEDBACK] Processing audio chunk
[2025-07-24 21:37:05] [AUDIO] Audio resampled from 192000 to 64000 samples
[2025-07-24 21:37:05] [TRANSCRIBE_ES] Starting live transcription
[2025-07-24 21:37:05] [TRANSCRIBE_ES] Empty transcription result - no speech detected
[2025-07-24 21:37:07] [AUDIO] SPEECH_START detected (RMS: 0.0411)
[2025-07-24 21:37:09] [AUDIO] FORCED_FLUSH after 2.0s continuous speech
[2025-07-24 21:37:09] [USER_FEEDBACK] Forced flush triggered
[2025-07-24 21:37:09] [AUDIO] Processing forced flush segment (192000 samples, 4.00s)
[2025-07-24 21:37:09] [AUDIO] Audio queued for live transcription (forced flush)
[2025-07-24 21:37:09] [USER_FEEDBACK] Processing audio chunk
[2025-07-24 21:37:09] [AUDIO] Audio resampled from 192000 to 64000 samples
[2025-07-24 21:37:09] [TRANSCRIBE_ES] Starting live transcription
[2025-07-24 21:37:09] [LIVE_ES] De acuerdo.
[2025-07-24 21:37:11] [AUDIO] SPEECH_START detected (RMS: 0.0461)
[2025-07-24 21:37:13] [AUDIO] FORCED_FLUSH after 2.0s continuous speech
[2025-07-24 21:37:13] [USER_FEEDBACK] Forced flush triggered
[2025-07-24 21:37:13] [AUDIO] Processing forced flush segment (192000 samples, 4.00s)
[2025-07-24 21:37:13] [AUDIO] Audio queued for live transcription (forced flush)
[2025-07-24 21:37:13] [USER_FEEDBACK] Processing audio chunk
[2025-07-24 21:37:13] [AUDIO] Audio resampled from 192000 to 64000 samples
[2025-07-24 21:37:13] [TRANSCRIBE_ES] Starting live transcription
[2025-07-24 21:37:13] [LIVE_ES] ¿Puedes tomar?
[2025-07-24 21:37:15] [SEND_GEMINI] 4w / 2c
[2025-07-24 21:37:15] [USER_FEEDBACK] Sending to Gemini
[2025-07-24 21:37:15] [GEMINI_PROMPT] Prompt: You are a university student currently in Spanish 2, responding naturally to another student in Spanish. Your goal is to reply with a simple, grammatically correct Spanish sentence, as someone who has completed Spanish 1 and is currently learning the concepts listed below would. Concepts you understand and should utilize: - Saber and conocer (and irregular yo forms: sé, conozco)
- Preterite tense (regular -ar, -er, -ir verbs; irregulars like -car/-gar/-zar changes; creer, leer, oír, ver; common preterite adverbs)
- Acabar de + [infinitive]
- Basic Spanish pronunciation rules
- Regular -AR, -ER, -IR verb conjugations (present tense)
- Irregular present tense verbs: ser, estar, ir, tener, venir, decir, hacer, poner, salir, suponer, traer, ver, oír
- Stem-changing verbs (e→ie, o→ue, e→i)
- Direct object nouns and pronouns (placement)
- Possession (using "de," possessive adjectives, possessive pronouns, de + el = del)
- Ser vs. Estar (DOCTOR, PLACE/LoCo mnemonics, adjective meaning changes)
- Gustar (and similar verbs, where liked item is subject)
- Forming questions (pitch, inversion, tags, interrogative words, por qué vs. porque)
- Present Progressive (estar + present participle, irregulars, stem changes)
- Descriptive adjectives and nationality (agreement, position, bueno/malo/grande/santo)
- Numbers 31 and higher (patterns, cien/ciento, mil/millón)
- Common verbs and expressions (especially with tener)
When the other student provides Spanish text, reply *only* with a single, natural, brief Spanish sentence. Do not add explanations, alternatives, or any text beyond that one sentence.
[2025-07-24 21:37:15] [GEMINI_PROMPT] Spanish input: De acuerdo. ¿Puedes tomar?
[2025-07-24 21:37:15] [GEMINI_REPLY] Response (0.32s): Sí, puedo tomar.
[2025-07-24 21:37:15] [PERFORMANCE] Gemini response time 0.32s within live exam target
[2025-07-24 21:37:15] [GEMINI_RESPONSE_TIME] 0.32s
[2025-07-24 21:37:15] [HOTKEY_G] Manual send completed
[2025-07-24 21:37:24] [SYSTEM] Keyboard interrupt received - initiating graceful shutdown
[2025-07-24 21:37:24] [SYSTEM] Application terminated by user (Ctrl+C)
[2025-07-24 21:37:24] [SYSTEM] Starting system cleanup
[2025-07-24 21:37:24] [SYSTEM] Signaled worker threads to stop
[2025-07-24 21:37:24] [SYSTEM] Waiting for audio queue to empty
[2025-07-24 21:37:24] [SYSTEM] Audio queue emptied successfully
[2025-07-24 21:37:24] [SYSTEM] Waiting for transcription thread to finish
[2025-07-24 21:37:24] [SYSTEM] Hotkey listener thread stopped gracefully
[2025-07-24 21:37:24] [SYSTEM] Auto-send monitor thread stopped
[2025-07-24 21:37:24] [SYSTEM] Live transcription worker thread stopped
[2025-07-24 21:37:24] [SYSTEM] Transcription thread finished successfully
[2025-07-24 21:37:24] [SYSTEM] Audio buffer cleared
[2025-07-24 21:37:24] [SYSTEM] Live buffer cleared
[2025-07-24 21:37:24] [SYSTEM] System cleanup completed
