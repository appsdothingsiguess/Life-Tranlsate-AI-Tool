=== System startup at 2025-07-23 22:58:38 ===
[2025-07-23 22:58:38] [SYSTEM] Logging system initialized successfully
[2025-07-23 22:58:38] [SYSTEM] Log file: C:\Users\John\Downloads\programming\Whisper\log.txt
[2025-07-23 22:58:38] [SYSTEM] Environment variables loaded successfully
[2025-07-23 22:58:38] [SYSTEM] Gemini client initialized successfully
[2025-07-23 22:58:38] [SYSTEM] Using Gemini model: gemini-2.5-flash-lite (optimized for live exam latency)
[2025-07-23 22:58:38] [SYSTEM] Initializing Whisper model with compute_type: float16
[2025-07-23 22:58:38] [SYSTEM] Whisper model loaded successfully
[2025-07-23 22:58:38] [AUDIO_FORMAT] === Live Transcription System Ready ===
[2025-07-23 22:58:38] [AUDIO_FORMAT] ✅ RMS-based speech detection enabled
[2025-07-23 22:58:38] [AUDIO_FORMAT] ✅ Live buffer accumulation system initialized
[2025-07-23 22:58:38] [AUDIO_FORMAT] 🚀 Performance: True live streaming with forced flush
[2025-07-23 22:58:38] [AUDIO_FORMAT] 📊 Settings: RMS_THRESHOLD=0.008, SILENCE_SECS=0.3, MAX_SPEECH_SECS=4.0
[2025-07-23 22:58:38] [SYSTEM] Using audio device 37: CABLE Output (VB-Audio Virtual Cable)
[2025-07-23 22:58:38] [SYSTEM] Audio settings validated: 48000Hz, 1 channel(s)
[2025-07-23 22:58:38] [SYSTEM] === SPANISH TRANSCRIPTION SYSTEM STARTING ===
[2025-07-23 22:58:38] [SYSTEM] Shared state initialized: hotkey_state and hotkey_lock ready
[2025-07-23 22:58:38] [SYSTEM] Thread architecture: transcription worker + hotkey listener + auto-send monitor
[2025-07-23 22:58:38] [SYSTEM] Starting system threads...
[2025-07-23 22:58:38] [SYSTEM] Live transcription worker thread started
[2025-07-23 22:58:38] [SYSTEM] ✅ Streaming transcription worker thread started successfully
[2025-07-23 22:58:38] [SYSTEM] ✅ Hotkey listener thread started successfully
[2025-07-23 22:58:38] [SYSTEM] Hotkey listener thread started with enhanced error handling
[2025-07-23 22:58:38] [SYSTEM] Auto-send monitor thread started
[2025-07-23 22:58:38] [SYSTEM] ✅ Auto-send monitor thread started successfully
[2025-07-23 22:58:38] [SYSTEM] ✅ All system threads running successfully
[2025-07-23 22:58:38] [GEMINI_WARMUP] Starting Gemini API warm-up routine
[2025-07-23 22:58:38] [SYSTEM] ✅ Gemini warm-up thread started
[2025-07-23 22:58:38] [GEMINI_WARMUP] Warm-up prompt: You are a university student currently in Spanish 2, responding naturally to another student in Spanish. Your goal is to reply with a simple, grammatically correct Spanish sentence, as someone who has completed Spanish 1 and is currently learning the concepts listed below would. Concepts you understand and should utilize: - Saber and conocer (and irregular yo forms: sé, conozco)
- Preterite tense (regular -ar, -er, -ir verbs; irregulars like -car/-gar/-zar changes; creer, leer, oír, ver; common preterite adverbs)
- Acabar de + [infinitive]
- Basic Spanish pronunciation rules
- Regular -AR, -ER, -IR verb conjugations (present tense)
- Irregular present tense verbs: ser, estar, ir, tener, venir, decir, hacer, poner, salir, suponer, traer, ver, oír
- Stem-changing verbs (e→ie, o→ue, e→i)
- Direct object nouns and pronouns (placement)
- Possession (using "de," possessive adjectives, possessive pronouns, de + el = del)
- Ser vs. Estar (DOCTOR, PLACE/LoCo mnemonics, adjective meaning changes)
- Gustar (and similar verbs, where liked item is subject)
- Forming questions (pitch, inversion, tags, interrogative words, por qué vs. porque)
- Present Progressive (estar + present participle, irregulars, stem changes)
- Descriptive adjectives and nationality (agreement, position, bueno/malo/grande/santo)
- Numbers 31 and higher (patterns, cien/ciento, mil/millón)
- Common verbs and expressions (especially with tener)
When the other student provides Spanish text, reply *only* with a single, natural, brief Spanish sentence. Do not add explanations, alternatives, or any text beyond that one sentence.
[2025-07-23 22:58:38] [SYSTEM] Initializing audio stream...
[2025-07-23 22:58:38] [GEMINI_WARMUP] Warm-up input: Say 'ready' in Spanish.
[2025-07-23 22:58:38] [SYSTEM] ✅ Audio stream started successfully
[2025-07-23 22:58:38] [SYSTEM] === SYSTEM FULLY OPERATIONAL ===
[2025-07-23 22:58:39] [GEMINI_WARMUP_COMPLETE] Warm-up completed in 0.21s - Response: Estoy listo.
[2025-07-23 22:58:44] [AUDIO] SPEECH_START detected (RMS: 0.1146)
[2025-07-23 22:58:48] [AUDIO] FORCED_FLUSH after 4.0s continuous speech
[2025-07-23 22:58:48] [AUDIO] Processing forced flush segment (288000 samples, 6.00s)
[2025-07-23 22:58:48] [AUDIO] Audio queued for live transcription (forced flush)
[2025-07-23 22:58:48] [AUDIO] Audio resampled from 288000 to 96000 samples
[2025-07-23 22:58:48] [TRANSCRIBE_ES] Starting live transcription
[2025-07-23 22:58:49] [LIVE_ES] ¿Te gustaría practicar tu español en una conversación conmigo?
[2025-07-23 22:58:50] [AUDIO] SPEECH_START detected (RMS: 0.1125)
[2025-07-23 22:58:54] [AUDIO] FORCED_FLUSH after 4.0s continuous speech
[2025-07-23 22:58:54] [AUDIO] Processing forced flush segment (288000 samples, 6.00s)
[2025-07-23 22:58:54] [AUDIO] Audio queued for live transcription (forced flush)
[2025-07-23 22:58:54] [AUDIO] Audio resampled from 288000 to 96000 samples
[2025-07-23 22:58:54] [TRANSCRIBE_ES] Starting live transcription
[2025-07-23 22:58:54] [SEND_GEMINI] 9w / 1c
[2025-07-23 22:58:54] [GEMINI_PROMPT] Prompt: You are a university student currently in Spanish 2, responding naturally to another student in Spanish. Your goal is to reply with a simple, grammatically correct Spanish sentence, as someone who has completed Spanish 1 and is currently learning the concepts listed below would. Concepts you understand and should utilize: - Saber and conocer (and irregular yo forms: sé, conozco)
- Preterite tense (regular -ar, -er, -ir verbs; irregulars like -car/-gar/-zar changes; creer, leer, oír, ver; common preterite adverbs)
- Acabar de + [infinitive]
- Basic Spanish pronunciation rules
- Regular -AR, -ER, -IR verb conjugations (present tense)
- Irregular present tense verbs: ser, estar, ir, tener, venir, decir, hacer, poner, salir, suponer, traer, ver, oír
- Stem-changing verbs (e→ie, o→ue, e→i)
- Direct object nouns and pronouns (placement)
- Possession (using "de," possessive adjectives, possessive pronouns, de + el = del)
- Ser vs. Estar (DOCTOR, PLACE/LoCo mnemonics, adjective meaning changes)
- Gustar (and similar verbs, where liked item is subject)
- Forming questions (pitch, inversion, tags, interrogative words, por qué vs. porque)
- Present Progressive (estar + present participle, irregulars, stem changes)
- Descriptive adjectives and nationality (agreement, position, bueno/malo/grande/santo)
- Numbers 31 and higher (patterns, cien/ciento, mil/millón)
- Common verbs and expressions (especially with tener)
When the other student provides Spanish text, reply *only* with a single, natural, brief Spanish sentence. Do not add explanations, alternatives, or any text beyond that one sentence.
[2025-07-23 22:58:54] [GEMINI_PROMPT] Spanish input: ¿Te gustaría practicar tu español en una conversación conmigo?
[2025-07-23 22:58:55] [LIVE_ES] Es exactamente lo que vamos a hacer en la clase de hoy.
[2025-07-23 22:58:55] [GEMINI_REPLY] Response (0.21s): Sí, me gustaría mucho.
[2025-07-23 22:58:55] [PERFORMANCE] Gemini response time 0.21s within live exam target
[2025-07-23 22:58:55] [GEMINI_RESPONSE_TIME] 0.22s
[2025-07-23 22:58:55] [HOTKEY_G] Manual send completed
[2025-07-23 22:58:59] [HOTKEY_G] No live text available
[2025-07-23 22:59:38] [SYSTEM] Keyboard interrupt received - initiating graceful shutdown
[2025-07-23 22:59:38] [SYSTEM] Application terminated by user (Ctrl+C)
[2025-07-23 22:59:38] [SYSTEM] Starting system cleanup
[2025-07-23 22:59:38] [SYSTEM] Signaled worker threads to stop
[2025-07-23 22:59:38] [SYSTEM] Waiting for audio queue to empty
[2025-07-23 22:59:38] [SYSTEM] Audio queue emptied successfully
[2025-07-23 22:59:38] [SYSTEM] Waiting for transcription thread to finish
[2025-07-23 22:59:38] [SYSTEM] Hotkey listener thread stopped gracefully
[2025-07-23 22:59:39] [SYSTEM] Live transcription worker thread stopped
[2025-07-23 22:59:39] [SYSTEM] Transcription thread finished successfully
[2025-07-23 22:59:39] [SYSTEM] Waiting for auto-send monitor thread to finish
[2025-07-23 22:59:39] [SYSTEM] Auto-send monitor thread stopped
[2025-07-23 22:59:39] [SYSTEM] Auto-send monitor thread finished successfully
[2025-07-23 22:59:39] [SYSTEM] Audio buffer cleared
[2025-07-23 22:59:39] [SYSTEM] Live buffer cleared
[2025-07-23 22:59:39] [SYSTEM] System cleanup completed
